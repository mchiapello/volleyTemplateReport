---
title: "PGS Foglizzese - TSEC"
output:
  pagedown::poster_jacobs:
    css:
    - poster-jacobs.css
    self_contained: false
    pandoc_args: --mathjax
---

```{r}
library(datavolley)
suppressPackageStartupMessages(library(tidyverse))
library(gt)
library(gtExtras)

knitr::opts_chunk$set(echo = FALSE,
                      warning = FALSE,
                      error = FALSE,
                      message = FALSE)
```




S1
================================================================================

```{r risultato}
x <- dv_read("example.dvw")

x$meta$teams %>%
    select(team, sets_won) %>% 
    gt(id = "one") %>%
    tab_header(title = "Risultato finale") %>% 
    fmt_markdown(columns = everything()) %>%
    tab_options(table.width = px(90),
                column_labels.hidden = TRUE) %>% 
    opt_css(
    css = "
    #one .gt_header {
      padding: 2px 3px;
      font-size: 7px;
      color: lightgreen;
    }
    #one .gt_row {
      padding: 2px 3px;
      font-size: 7px;
    }
    #one .gt_col_heading {
      text-align: center !important;
    }
    ")

```


S2
================================================================================

```{r meta1}
data <- as.character(x$meta$match$date)
stag <- x$meta$match$season
lea <- x$meta$match$league
pha <- x$meta$match$phase
num <- x$meta$match$match_number

meta1 <- tibble(name = c("Data", "Stagione", "Campionato", "Fase", "Partita"),
                values = c(data, stag, lea, pha, num))


meta1 %>% 
    gt(id = "two") %>%
    tab_options(#table.width = px(150),
                column_labels.hidden = TRUE) %>% 
    opt_css(
    css = "
    #two .gt_header {
      padding: 2px 3px;
      font-size: 7;
      color: lightgreen;
    }
    #two .gt_row {
      padding: 2px 3px;
      font-size: 7px;
    }
    #two .gt_col_heading {
      text-align: center !important;
    }
    ")

```



S3
================================================================================

```{r meta3}
x$meta$result %>%
    mutate(Set = row_number()) %>% 
    unite("Parziali", score_intermediate1:score_intermediate3, sep = " / ") %>% 
    select(Set, Durata = duration, Parziali, Punteggio = score) %>% 
    gt(id = "third") %>%
    cols_align(
    align = "center") %>% 
    tab_options(table.width = px(300)) %>% 
    opt_css(
    css = "
    #third .gt_col_heading {
      padding: 2px 3px;
      font-size: 10px;
    }
    #third .gt_row {
      padding: 2px 3px;
      font-size: 7px;
    }
    #third .gt_col_heading {
      text-align: center !important;
    }
    ")

```


S4
================================================================================
```{r main}
noi <- home_team(x)

t1 <- x$meta$players_h %>% 
    select(number, name, starting_position_set1:starting_position_set5) %>% 
    select(where(~sum(!is.na(.x)) > 0)) %>% 
    rename_with(~str_remove(.x, "starting_position_"))
    
````



PIPPO6
================================================================================

::: {.logo-example}
Placeholder Logo
:::
